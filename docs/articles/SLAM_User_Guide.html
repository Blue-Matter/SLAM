<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SLAM User Guide • SLAM</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="SLAM User Guide">
<meta property="og:description" content="SLAM">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">SLAM</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/SLAM_User_Guide.html">SLAM User Guide</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>SLAM User Guide</h1>
                        <h4 data-toc-skip class="author">Adrian Hordyk
<a href="mailto:adrian@bluematterscience.com" class="email">adrian@bluematterscience.com</a>
</h4>
            
            <h4 data-toc-skip class="date">2023-03-31</h4>
      
      
      <div class="hidden name"><code>SLAM_User_Guide.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>SLAM</code> package is designed to simulate fishery
dynamics and data, and to apply an age-structured assessment model to
fishery data for a short-lived semelparous species such as octopus.</p>
<p><code>SLAM</code> is designed with a monthly time-step and to fit to
catch-at-weight data. If available, it will also fit to an index of
fishing effort and an index of abundance. <code>SLAM</code> estimates
the selectivity pattern, fishing mortality (F), the spawning potential
ratio (SPR), and the relative spawning biomass (SB/SB0) for each
month.</p>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>The <code>SLAM</code> package can be installed directly from GitHub.
A couple of prerequisites are required to install <code>SLAM</code> from
GitHub. RTools is required because the package uses <a href="https://cran.r-project.org/package=TMB" class="external-link">TMB</a>. The
<code>devtools</code> package can check if RTools is installed on your
system:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load `devtools` if it's installed</span></span>
<span><span class="va">chk</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">'devtools'</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: devtools</span></span>
<span><span class="co">#&gt; Loading required package: usethis</span></span>
<span></span>
<span><span class="co"># install `devtools` if necessary</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="va">chk</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">'devtools'</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://devtools.r-lib.org/" class="external-link">'devtools'</a></span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check if RTools is installed</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://r-lib.github.io/pkgbuild/reference/has_rtools.html" class="external-link">find_rtools</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">'RTools needs to be installed'</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>If you get an error message after running the code above, you need to
install RTools. Instructions for installing RTools for Windows machines
are available <a href="https://cran.r-project.org/bin/windows/Rtools/rtools40.html" class="external-link">here</a>.
A quick web search will find similar instructions for installing RTools
on OS machines.</p>
<div class="section level4">
<h4 id="installing-slam">Installing <code>SLAM</code><a class="anchor" aria-label="anchor" href="#installing-slam"></a>
</h4>
<p>Once RTools is installed, <code>SLAM</code> can be installed
with:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'blue-matter/SLAM'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="applying-slam-to-fishery-data">Applying <code>SLAM</code> to Fishery Data<a class="anchor" aria-label="anchor" href="#applying-slam-to-fishery-data"></a>
</h2>
<p>In each new R session, the <code>SLAM</code> package must first be
loaded into memory:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">SLAM</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: dplyr</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<div class="section level3">
<h3 id="the-data-object">The Data object<a class="anchor" aria-label="anchor" href="#the-data-object"></a>
</h3>
<p>Fishery data is loaded into an object of class <code>Data</code>.</p>
<p>There are two ways to create a <code>Data</code> object: Importing
from Excel and Creating in R</p>
<div class="section level4">
<h4 id="import-a-data-object-from-excel">Import a Data object from Excel<a class="anchor" aria-label="anchor" href="#import-a-data-object-from-excel"></a>
</h4>
<p>The <code>Import</code> function can be used to import fishery data
from a correctly formatted Excel Workbook.</p>
<p>The <code>SLAM</code> package includes a few example Excel files with
example data. The <code>Example_Data</code> function will print out the
full file paths to these example files:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Example_Data.html">Example_Data</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "C:/Users/User/AppData/Local/R/win-library/4.2/SLAM/Data_Example_Binned.xlsx"</span></span>
<span><span class="co">#&gt; [2] "C:/Users/User/AppData/Local/R/win-library/4.2/SLAM/Data_Example_Raw.xlsx"   </span></span>
<span><span class="co">#&gt; [3] "C:/Users/User/AppData/Local/R/win-library/4.2/SLAM/Data_Template.xlsx"</span></span></code></pre></div>
<p>You can examine the example files to see the specific format of the
Excel workbooks containing the example data. Data files must follow this
same structure with the same names for the Worksheets (tabs) and same
names for the column headings in Row 1, and the text in Column A.</p>
<p>“Data_Template.xlsx” is an empty data file that can be used as a
template for your data.</p>
<p>The data can be imported from the specially formatted Excel workbooks
using the <code>Import</code> function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MyData</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Import.html">Import</a></span><span class="op">(</span><span class="fu"><a href="../reference/Example_Data.html">Example_Data</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; Successfully imported `Data` object from: C:/Users/User/AppData/Local/R/win-library/4.2/SLAM/Data_Example_Binned.xlsx</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="create-a-data-object-in-r">Create a Data object in R<a class="anchor" aria-label="anchor" href="#create-a-data-object-in-r"></a>
</h4>
<p>Another option is to create an empty <code>Data</code> object and
populate it in R. This can be done with the <code>Make</code>
command:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MyData2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/Make_Data.html">Make</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Creating an empty `Data` object</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">MyData2</span><span class="op">)</span></span>
<span><span class="co">#&gt; $Metadata</span></span>
<span><span class="co">#&gt;         Field Value</span></span>
<span><span class="co">#&gt; 1     Fishery    NA</span></span>
<span><span class="co">#&gt; 2    Location    NA</span></span>
<span><span class="co">#&gt; 3     Species    NA</span></span>
<span><span class="co">#&gt; 4 Common_Name    NA</span></span>
<span><span class="co">#&gt; 5      Author    NA</span></span>
<span><span class="co">#&gt; 6        Date    NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Ages</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Weight_Age_Mean</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Weight_Age_SD</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Maturity_at_Age</span></span>
<span><span class="co">#&gt; numeric(0)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $M_at_Age</span></span>
<span><span class="co">#&gt; numeric(0)</span></span></code></pre></div>
<p>As you can see, the <code>Make</code> function returns an empty
<code>Data</code> object, which can then be populated manually in R.</p>
<p>For example, the metadata (used for reporting):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MyData2</span><span class="op">$</span><span class="va">Metadata</span><span class="op">$</span><span class="va">Value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'My Fishery'</span>, <span class="st">'My Location'</span>, <span class="st">'My Species'</span>, <span class="st">'My Species Name'</span>, <span class="st">'Me'</span>, <span class="st">'Today'</span><span class="op">)</span></span>
<span><span class="va">MyData2</span><span class="op">$</span><span class="va">Metadata</span></span>
<span><span class="co">#&gt;         Field           Value</span></span>
<span><span class="co">#&gt; 1     Fishery      My Fishery</span></span>
<span><span class="co">#&gt; 2    Location     My Location</span></span>
<span><span class="co">#&gt; 3     Species      My Species</span></span>
<span><span class="co">#&gt; 4 Common_Name My Species Name</span></span>
<span><span class="co">#&gt; 5      Author              Me</span></span>
<span><span class="co">#&gt; 6        Date           Today</span></span></code></pre></div>
<p>The at-age schedules:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MyData2</span><span class="op">$</span><span class="va">Ages</span> <span class="op">&lt;-</span> <span class="fl">0</span><span class="op">:</span><span class="fl">14</span></span>
<span><span class="va">MyData2</span><span class="op">$</span><span class="va">Weight_Age_Mean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="fl">0.12</span>, <span class="fl">0.23</span>, <span class="fl">0.40</span>, <span class="fl">0.60</span>, </span>
<span>                             <span class="fl">0.86</span>, <span class="fl">1.17</span>, <span class="fl">1.54</span>, <span class="fl">1.96</span>, <span class="fl">2.44</span>, <span class="fl">2.99</span>, <span class="fl">3.60</span>, <span class="fl">4.27</span><span class="op">)</span></span>
<span><span class="co"># ...</span></span></code></pre></div>
<p>And so on for all the other available data.</p>
</div>
<div class="section level4">
<h4 id="data-report">Data Report<a class="anchor" aria-label="anchor" href="#data-report"></a>
</h4>
<p>Once a <code>Data</code> object is complete, a Data Report can be
generated with the <code>Report</code> function:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/Report.html">Report</a></span><span class="op">(</span><span class="va">MyData</span><span class="op">)</span></span></code></pre></div>
<p>This will compile a HTML report with figures and tables summarizing
your fishery data, and open the HTML file in your web browser.</p>
<p>See <a href="Data_Report.html">here</a> for the example Data Report
created above.</p>
</div>
</div>
<div class="section level3">
<h3 id="running-assessment">Running Assessment<a class="anchor" aria-label="anchor" href="#running-assessment"></a>
</h3>
</div>
<div class="section level3">
<h3 id="examine-results">Examine Results<a class="anchor" aria-label="anchor" href="#examine-results"></a>
</h3>
</div>
</div>
<div class="section level2">
<h2 id="simulating-fishery-data">Simulating Fishery Data<a class="anchor" aria-label="anchor" href="#simulating-fishery-data"></a>
</h2>
<div class="section level3">
<h3 id="simulation">Simulation<a class="anchor" aria-label="anchor" href="#simulation"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Import_LifeHistory()</span></span>
<span><span class="co"># Simulate()</span></span></code></pre></div>
<div class="section level4">
<h4 id="simulating-fishery-dynamics">Simulating Fishery Dynamics<a class="anchor" aria-label="anchor" href="#simulating-fishery-dynamics"></a>
</h4>
</div>
<div class="section level4">
<h4 id="generating-fishery-data">Generating Fishery Data<a class="anchor" aria-label="anchor" href="#generating-fishery-data"></a>
</h4>
</div>
</div>
<div class="section level3">
<h3 id="estimation">Estimation<a class="anchor" aria-label="anchor" href="#estimation"></a>
</h3>
<div class="section level4">
<h4 id="applying-assessment-model-to-simulated-data">Applying Assessment Model to Simulated Data<a class="anchor" aria-label="anchor" href="#applying-assessment-model-to-simulated-data"></a>
</h4>
</div>
<div class="section level4">
<h4 id="applying-assessment-model-to-case-study-data">Applying Assessment Model to Case Study Data<a class="anchor" aria-label="anchor" href="#applying-assessment-model-to-case-study-data"></a>
</h4>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Adrian Hordyk.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
